<!DOCTYPE html>
<html>
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="utf-8">
  
  <title>PHP 7 æœ‰äº›ä»€ä¹ˆå€¼å¾—æœŸå¾…ï¼Ÿï¼ˆäºŒï¼‰ | Z - Computer &amp; Programming Technology</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="google-adsense-account" content="ca-pub-8768699638326268">
  <meta name="description" content="åœ¨ä¸Šä¸€æœŸæˆ‘ä»¬å·²ç»ä»‹ç»äº†ï¼ŒPHP7ä¸­æœ€é‡è¦çš„å¯¹äºä¸ä¸€è‡´æ€§çš„ä¿®å¤ï¼Œä»¥åŠä¸¤ä¸ªå¤§çš„æ–°ç‰¹æ€§ã€‚æœ¬æ–‡å°†è¦ä»‹ç»PHP7çš„å¦å¤–6ä¸ªä½ ä¼šä¹äºçŸ¥é“çš„ç‰¹æ€§ã€‚  Unicodeç¼–ç çš„è½¬ä¹‰è¯­æ³•æ–°å¢çš„è½¬ä¹‰å­—ç¬¦ï¼Œ\uï¼Œå…è®¸æˆ‘ä»¬åœ¨phpå­—ç¬¦ä¸²ä¸­ç›´æ¥åŠ å…¥Unicodeç¼–ç å­—ç¬¦ï¼š ä½¿ç”¨è¯­æ³•å¦‚ä¸‹\u&amp;#123;ç¼–ç &amp;#125;ï¼Œä¾‹å¦‚ç»¿è‰²çš„å¿ƒå½¢ ğŸ’šï¼Œå¯ä»¥ç›´æ¥ç”¨PHPå­—ç¬¦ä¸²è¡¨ç¤ºï¼šâ€\u{1F49A}â€ã€‚">
<meta property="og:type" content="article">
<meta property="og:title" content="PHP 7 æœ‰äº›ä»€ä¹ˆå€¼å¾—æœŸå¾…ï¼Ÿï¼ˆäºŒï¼‰">
<meta property="og:url" content="http://log.zvz.im/2016/01/17/PHP7-2/index.html">
<meta property="og:site_name" content="Z - Computer &amp; Programming Technology">
<meta property="og:description" content="åœ¨ä¸Šä¸€æœŸæˆ‘ä»¬å·²ç»ä»‹ç»äº†ï¼ŒPHP7ä¸­æœ€é‡è¦çš„å¯¹äºä¸ä¸€è‡´æ€§çš„ä¿®å¤ï¼Œä»¥åŠä¸¤ä¸ªå¤§çš„æ–°ç‰¹æ€§ã€‚æœ¬æ–‡å°†è¦ä»‹ç»PHP7çš„å¦å¤–6ä¸ªä½ ä¼šä¹äºçŸ¥é“çš„ç‰¹æ€§ã€‚  Unicodeç¼–ç çš„è½¬ä¹‰è¯­æ³•æ–°å¢çš„è½¬ä¹‰å­—ç¬¦ï¼Œ\uï¼Œå…è®¸æˆ‘ä»¬åœ¨phpå­—ç¬¦ä¸²ä¸­ç›´æ¥åŠ å…¥Unicodeç¼–ç å­—ç¬¦ï¼š ä½¿ç”¨è¯­æ³•å¦‚ä¸‹\u&amp;#123;ç¼–ç &amp;#125;ï¼Œä¾‹å¦‚ç»¿è‰²çš„å¿ƒå½¢ ğŸ’šï¼Œå¯ä»¥ç›´æ¥ç”¨PHPå­—ç¬¦ä¸²è¡¨ç¤ºï¼šâ€\u{1F49A}â€ã€‚">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2016-01-17T03:13:27.000Z">
<meta property="article:modified_time" content="2025-07-04T09:28:20.964Z">
<meta property="article:author" content="darluc">
<meta property="article:tag" content="php">
<meta name="twitter:card" content="summary">
  
    <link rel="alternative" href="/atom.xml" title="Z - Computer &amp; Programming Technology" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link href="//fonts.geekzu.org/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
<link rel="stylesheet" href="/css/style.css">

  
<!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8NRBEZPWYN"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-8NRBEZPWYN');
</script>


  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-8768699638326268"
     crossorigin="anonymous"></script>
<meta name="generator" content="Hexo 6.3.0"><!-- hexo-inject:begin --><!-- hexo-inject:end --></head>

<body>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div id="container">
    <div id="wrap">
      <div class="outer">
        <section id="main"><article id="post-PHP7-2" class="article article-type-post" itemscope itemprop="blogPost">
  
  <div class="article-inner">
    
      <header class="article-header">
        
  
    <h1 class="article-title" itemprop="name">
      PHP 7 æœ‰äº›ä»€ä¹ˆå€¼å¾—æœŸå¾…ï¼Ÿï¼ˆäºŒï¼‰
    </h1>
  

      </header>
    
    <div class="article-meta">
      <a href="/2016/01/17/PHP7-2/" class="article-date">
  <time datetime="2016-01-17T03:13:27.000Z" itemprop="datePublished">2016-01-17</time>
</a>
      
  <div class="article-category">
    <a class="article-category-link" href="/tags/php/">php</a>
  </div>

    </div>
    <div class="article-entry" itemprop="articleBody">
      
        <blockquote>
<p>åœ¨ä¸Šä¸€æœŸæˆ‘ä»¬å·²ç»ä»‹ç»äº†ï¼ŒPHP7ä¸­æœ€é‡è¦çš„å¯¹äºä¸ä¸€è‡´æ€§çš„ä¿®å¤ï¼Œä»¥åŠä¸¤ä¸ªå¤§çš„æ–°ç‰¹æ€§ã€‚æœ¬æ–‡å°†è¦ä»‹ç»PHP7çš„å¦å¤–6ä¸ªä½ ä¼šä¹äºçŸ¥é“çš„ç‰¹æ€§ã€‚</p>
</blockquote>
<h2 id="Unicodeç¼–ç çš„è½¬ä¹‰è¯­æ³•"><a href="#Unicodeç¼–ç çš„è½¬ä¹‰è¯­æ³•" class="headerlink" title="Unicodeç¼–ç çš„è½¬ä¹‰è¯­æ³•"></a>Unicodeç¼–ç çš„è½¬ä¹‰è¯­æ³•</h2><p>æ–°å¢çš„è½¬ä¹‰å­—ç¬¦ï¼Œ<code>\u</code>ï¼Œå…è®¸æˆ‘ä»¬åœ¨phpå­—ç¬¦ä¸²ä¸­ç›´æ¥åŠ å…¥Unicodeç¼–ç å­—ç¬¦ï¼š</p>
<p>ä½¿ç”¨è¯­æ³•å¦‚ä¸‹<code>\u&#123;ç¼–ç &#125;</code>ï¼Œä¾‹å¦‚ç»¿è‰²çš„å¿ƒå½¢ ğŸ’šï¼Œå¯ä»¥ç›´æ¥ç”¨PHPå­—ç¬¦ä¸²è¡¨ç¤ºï¼šâ€\u{1F49A}â€ã€‚<br><span id="more"></span></p>
<h2 id="ç©ºå€¼åˆå¹¶æ“ä½œç¬¦"><a href="#ç©ºå€¼åˆå¹¶æ“ä½œç¬¦" class="headerlink" title="ç©ºå€¼åˆå¹¶æ“ä½œç¬¦"></a>ç©ºå€¼åˆå¹¶æ“ä½œç¬¦</h2><p>åˆä¸€ä¸ªæ–°çš„æ“ä½œç¬¦ï¼Œç©ºå€¼åˆå¹¶æ“ä½œç¬¦ï¼Œ<code>??</code>ã€‚è¿”å›å·¦æ“ä½œæ•°å¦‚æœå…¶ä¸ä¸º<strong>NULL</strong>ï¼Œå¦åˆ™è¿”å›å³æ“ä½œæ•°ã€‚</p>
<p>è€Œä¸”å¾ˆé‡è¦çš„ä¸€ç‚¹æ˜¯ï¼Œå½“å·¦æ“ä½œæ•°æœªå®šä¹‰æ—¶ï¼Œä¸ä¼šäº§ç”Ÿæç¤ºé”™è¯¯ã€‚æ­¤ç‰¹æ€§æ›´åƒæ˜¯<code>isset()</code>å‡½æ•°ï¼Œè€Œä¸åƒ<code>?:</code>ä¸‰å…ƒæ“ä½œç¬¦ã€‚</p>
<p>ä½ å¯ä»¥é“¾å¼ä½¿ç”¨æ­¤æ“ä½œç¬¦ï¼Œå®ƒå°†è¿”å›ç¬¬ä¸€ä¸ªéç©ºå€¼ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$config</span> = <span class="variable">$config</span> ?? <span class="variable language_">$this</span>-&gt;config ?? <span class="built_in">static</span>::<span class="variable">$defaultConfig</span>;</span><br></pre></td></tr></table></figure>
<h2 id="é—­åŒ…è°ƒç”¨æ—¶ç»‘å®š"><a href="#é—­åŒ…è°ƒç”¨æ—¶ç»‘å®š" class="headerlink" title="é—­åŒ…è°ƒç”¨æ—¶ç»‘å®š"></a>é—­åŒ…è°ƒç”¨æ—¶ç»‘å®š</h2><p>PHP 5.4ç‰ˆæœ¬æ—¶ï¼Œæä¾›äº†<code>Closure-&gt;bindTo()</code>å’Œ<code>Closure::bind()</code>æ–¹æ³•ï¼Œç”¨äºæ”¹å˜é—­åŒ…ä¸­$thisçš„ç»‘å®šå¯¹è±¡å’Œä½œç”¨åŸŸï¼ŒåŒæ—¶å¤åˆ¶ä¸€ä¸ªæ–°çš„é—­åŒ…ã€‚</p>
<p>PHP 7ç°åœ¨åŠ å…¥äº†ä¸€ä¸ªæ›´åŠ ç®€å•çš„æ–¹æ³•<code>Closure-&gt;call()</code>ï¼Œä½¿å…¶åœ¨è°ƒç”¨æ—¶ç»‘å®š$thiså’Œä½œç”¨åŸŸã€‚æ­¤æ–¹æ³•å°†ç»‘å®šçš„å¯¹è±¡ä½œä¸ºç¬¬ä¸€ä¸ªå‚æ•°ï¼Œå…¶åçš„å‚æ•°ä½œä¸ºé—­åŒ…å‚æ•°ä¼ å…¥ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">HelloWorld</span></span>&#123;</span><br><span class="line">  <span class="keyword">private</span> <span class="variable">$greeting</span>  = <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$closure</span> = <span class="function"><span class="keyword">function</span>(<span class="params"><span class="variable">$whom</span></span>) </span>&#123; <span class="keyword">echo</span> <span class="variable language_">$this</span>-&gt;greeting . <span class="string">&#x27; &#x27;</span> . <span class="variable">$whom</span>; &#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$obj</span> = <span class="keyword">new</span> <span class="title class_">HelloWorld</span>();</span><br><span class="line"><span class="variable">$closure</span>-&gt;<span class="title function_ invoke__">call</span>(<span class="variable">$obj</span>, <span class="string">&#x27;World&#x27;</span>); <span class="comment">// Hello World</span></span><br></pre></td></tr></table></figure>
<h2 id="æˆç»„ä½¿ç”¨Useç”³æ˜"><a href="#æˆç»„ä½¿ç”¨Useç”³æ˜" class="headerlink" title="æˆç»„ä½¿ç”¨Useç”³æ˜"></a>æˆç»„ä½¿ç”¨Useç”³æ˜</h2><p>å¦‚æœä½ æ›¾æœ‰ä»åŒä¸€ä¸ªå‘½åç©ºé—´å¼•å…¥å¾ˆå¤šç±»ï¼Œä½ å¯èƒ½ä¼šæ›´é«˜å…´ä½ çš„å¼€å‘å·¥å…·è‡ªåŠ¨å¸®ä½ å®Œæˆäº†è¿™äº›å·¥ä½œã€‚å¯¹äºå…¶ä»–æ²¡æœ‰ä½¿ç”¨è‡ªåŠ¨å®Œæˆå·¥å…·çš„äººæ¥è®²ï¼ŒPHP 7ç°åœ¨æä¾›äº†æˆç»„ä½¿ç”¨Useç”³æ˜çš„æ–¹æ³•ã€‚å®ƒä½¿å¾—ä½ èƒ½æ›´å¿«åœ°æ›´æ¸…æ™°å¼•å…¥åŒä¸€ä¸ªå‘½åç©ºé—´ä¸‹çš„å¤šä¸ªç±»ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// ä»¥å‰</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Framework</span>\<span class="title">Component</span>\<span class="title">SubComponent</span>\<span class="title">ClassA</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Framework</span>\<span class="title">Component</span>\<span class="title">SubComponent</span>\<span class="title">ClassB</span> <span class="keyword">as</span> <span class="title">ClassC</span>;</span><br><span class="line"><span class="keyword">use</span> <span class="title">Framework</span>\<span class="title">Component</span>\<span class="title">OtherComponent</span>\<span class="title">ClassD</span>;</span><br></pre></td></tr></table></figure>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="comment">// æˆç»„ç”³æ˜</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Framework</span>\<span class="title">Component</span>\&#123;</span><br><span class="line">  <span class="title">SubComponent</span>\<span class="title">ClassA</span>,</span><br><span class="line">  <span class="title">SubComponent</span>\<span class="title">ClassB</span>,</span><br><span class="line">  <span class="title">OtherComponent</span>\<span class="title">ClassD</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>å®ƒä¹Ÿå¯ä»¥ä¸å¸¸é‡å’Œå‡½æ•°çš„å¯¼å…¥æ··ç”¨ã€‚</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">use</span> <span class="title">Framework</span>\<span class="title">Component</span>\&#123;</span><br><span class="line">  <span class="title">SubComponent</span>\<span class="title">ClassA</span>,</span><br><span class="line">  <span class="keyword">function</span> <span class="title">OtherComponent</span>\<span class="title">someFunction</span>,</span><br><span class="line">  <span class="keyword">const</span> <span class="title">OtherComponent</span>\<span class="title">SOME_CONSTANT</span></span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h2 id="ç”Ÿæˆå™¨çš„æ”¹è¿›"><a href="#ç”Ÿæˆå™¨çš„æ”¹è¿›" class="headerlink" title="ç”Ÿæˆå™¨çš„æ”¹è¿›"></a>ç”Ÿæˆå™¨çš„æ”¹è¿›</h2><h3 id="ç”Ÿæˆå™¨ä½¿ç”¨Returnè¯­å¥"><a href="#ç”Ÿæˆå™¨ä½¿ç”¨Returnè¯­å¥" class="headerlink" title="ç”Ÿæˆå™¨ä½¿ç”¨Returnè¯­å¥"></a>ç”Ÿæˆå™¨ä½¿ç”¨Returnè¯­å¥</h3><p>ç”Ÿæˆå™¨åŠ å…¥äº†ä¸¤ä¸ªæ–°çš„ç‰¹æ€§ã€‚ç¬¬ä¸€ä¸ªå°±æ˜¯<a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/generator-return-expressions">ç”Ÿæˆå™¨ä½¿ç”¨Returnè¯­å¥</a>ï¼Œå®ƒå…è®¸ç”Ÿæˆå™¨æ‰§è¡Œå®Œæ¯•åï¼Œè¿”å›ä¸€ä¸ªå€¼ã€‚</p>
<p>åœ¨PHP 7ä¹‹å‰ï¼Œå¦‚æœä½ å°è¯•è¿”å›ä»»ä½•ä¸œè¥¿ï¼Œéƒ½ä¼šæŠ¥é”™ã€‚ç„¶è€Œï¼Œç°åœ¨ä½ å¯ä»¥è°ƒç”¨<code>$generatro-&gt;getReturn()</code>æ¥å–å¾—è¿”å›å€¼äº†ã€‚</p>
<p>å¦‚æœç”Ÿæˆå™¨è¿˜æ²¡æœ‰è¿”å›ï¼Œæˆ–è€…å·²ç»æŠ›å‡ºå¼‚å¸¸äº†ï¼Œé‚£ä¹ˆæ‰§è¡Œ<code>$generator-&gt;getReturn()</code>ä¹Ÿä¼šæŠ›å‡ºå¼‚å¸¸ã€‚</p>
<p>å¦‚æœæ²¡æœ‰Returnè¯­å¥çš„ç”Ÿæˆå™¨æ‰§è¡Œå®Œæ¯•ï¼Œåˆ™è¿”å›nullå€¼ã€‚</p>
<p>ä¸‹é¢æœ‰ä¸ªç¤ºä¾‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">gen</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot; &quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;World!&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">return</span> <span class="string">&quot;Goodbye Moon!&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$gen</span> = <span class="title function_ invoke__">gen</span>();</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$gen</span> <span class="keyword">as</span> <span class="variable">$value</span>) &#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="variable">$value</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ¬¡è¾“å‡º &quot;Hello&quot;ï¼Œæ¥ç€æ˜¯&quot; &quot;, &quot;World!&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">echo</span> <span class="variable">$gen</span>-&gt;<span class="title function_ invoke__">getReturn</span>(); <span class="comment">// Goodbye Moon!</span></span><br></pre></td></tr></table></figure>
<h3 id="ç”Ÿæˆå™¨ä»£ç†"><a href="#ç”Ÿæˆå™¨ä»£ç†" class="headerlink" title="ç”Ÿæˆå™¨ä»£ç†"></a>ç”Ÿæˆå™¨ä»£ç†</h3><p>ç¬¬äºŒä¸ªç‰¹æ€§æ›´åŠ ä»¤äººæ¿€åŠ¨ï¼š<a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/generator-delegation">ç”Ÿæˆå™¨ä»£ç†</a>ã€‚æ­¤ç‰¹æ€§å…è®¸ä½ è¿”å›å¦ä¸€ä¸ªå¯ä»¥è¿­ä»£çš„ç»“æ„ï¼Œå¹¶ä½¿å…¶è¢«éå†â€”â€”ä¾‹å¦‚æ•°ç»„ï¼Œè¿­ä»£å™¨æˆ–è€…å¦ä¸€ä¸ªç”Ÿæˆå™¨ã€‚</p>
<p>å­ç»“æ„çš„è¿­ä»£æ˜¯ç”±æœ€å¤–å±‚çš„å¾ªç¯æ¥å®Œæˆçš„ï¼Œå•å±‚æ¬¡çš„å¾ªç¯è€Œéä»¥é€’å½’çš„æ–¹å¼ã€‚</p>
<p>å½“ä¼ é€’æ•°æ®æˆ–å¼‚å¸¸ç»™ç”Ÿæˆå™¨æ—¶ï¼Œå°±åƒç›´æ¥è°ƒç”¨å­ç»“æ„ä¸€æ ·ï¼Œä¹Ÿæ˜¯ç›´æ¥ä¼ é€’ç»™å­ç»“æ„çš„ã€‚</p>
<p>ä»£ç†è¯­æ³•<strong>yield from \&lt;expression></strong>ï¼Œå¦‚ä¸‹ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">hello</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;Hello&quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot; &quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;World!&quot;</span>;</span><br><span class="line">  </span><br><span class="line">  <span class="keyword">yield</span> <span class="keyword">from</span> <span class="title function_ invoke__">goodbye</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">goodbye</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;Goodbye&quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot; &quot;</span>;</span><br><span class="line">  <span class="keyword">yield</span> <span class="string">&quot;Moon!&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="variable">$gen</span> = <span class="title function_ invoke__">hello</span>();</span><br><span class="line"><span class="keyword">foreach</span> (<span class="variable">$gen</span> <span class="keyword">as</span> <span class="variable">$value</span>) &#123;</span><br><span class="line">  <span class="keyword">echo</span> <span class="variable">$value</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æ¯ä¸€æ¬¡è¿­ä»£çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<ol>
<li>â€œHelloâ€</li>
<li>â€œ â€œ</li>
<li>â€œWorld!â€</li>
<li>â€œGoodbyeâ€</li>
<li>â€œ â€œ</li>
<li>â€œMoon!â€</li>
</ol>
<p>æœ‰ä¸€ç‚¹éœ€è¦å°å¿ƒï¼šå› ä¸ºå­ç»“æ„è‡ªèº«ä¹Ÿå¯èƒ½è¢«è¿­ä»£äº§ç”Ÿå€¼ï¼Œæ‰€ä»¥å®Œå…¨æœ‰å¯èƒ½åŒä¸€ä¸ªå€¼è¢«å¤šä¸ªè¿­ä»£æ‰€è¿”å›â€”â€”å¦‚æœè¿™ä¸æ˜¯ä½ æƒ³è¦çš„ï¼Œåˆ™éœ€è¦ä½ è‡ªå·±å»é¿å…ã€‚</p>
<h2 id="å¼•æ“å¼‚å¸¸"><a href="#å¼•æ“å¼‚å¸¸" class="headerlink" title="å¼•æ“å¼‚å¸¸"></a>å¼•æ“å¼‚å¸¸</h2><p>åœ¨ä¹‹å‰çš„PHPä¸­å¤„ç†å¹¶æ•è·è‡´å‘½é”™è¯¯å‡ ä¹æ˜¯ä¸å¯èƒ½çš„ã€‚ä½†éšç€æ–°å¢åŠ çš„<a target="_blank" rel="noopener" href="https://wiki.php.net/rfc/engine_exceptions_for_php7">å¼•æ“å¼‚å¸¸</a>ï¼Œè®¸å¤šè¿™äº›é”™è¯¯å°†èƒ½å¤Ÿè½¬åŒ–ä¸ºå¼‚å¸¸æŠ›å‡ºã€‚</p>
<p>ç°åœ¨ï¼Œå½“ä¸€ä¸ªè‡´å‘½é”™è¯¯å‘ç”Ÿæ—¶ï¼Œå°†æŠ›å‡ºå¼‚å¸¸ï¼Œè¿™æ ·ä½ å°±å¯ä»¥ä¼˜é›…åœ°å¤„ç†å®ƒäº†ã€‚å¦‚æœä½ ä¸å»å¤„ç†å®ƒï¼Œåˆ™ä¼šäº§ç”Ÿä¼ ç»Ÿçš„ä¸å¯æ•è·çš„è‡´å‘½é”™è¯¯ã€‚</p>
<p>è¿™äº›å¼‚å¸¸æ˜¯<strong>\EngineException</strong>çš„å®ä¾‹ï¼Œä¸”ä¸ç”¨æˆ·ç©ºé—´çš„å¼‚å¸¸ä¸åŒï¼Œå®ƒå¹¶æ²¡æœ‰ç»§æ‰¿è‡ªåŸºç¡€çš„<strong>\Exception</strong>ç±»ã€‚è¿™æ ·åšæ˜¯ä¸ºäº†ç¡®ä¿ç°æœ‰ä»£ç ä¸­æ•è·<strong>\Exception</strong>çš„åœ°æ–¹ä¸ä¼šå˜å¾—èƒ½å¤Ÿæ•è·åˆ°è¿™äº›è‡´å‘½é”™è¯¯å¹¶ç»§ç»­æ‰§è¡Œä¸‹å»ã€‚è¿™æ ·å°±ä¿è¯äº†ä»£ç å‘åå…¼å®¹ã€‚</p>
<p>ä»¥åï¼Œå¦‚æœä½ æƒ³ä¸€èµ·æ•è·ä¼ ç»Ÿçš„å¼‚å¸¸å’Œå¼•æ“å¼‚å¸¸ï¼Œé‚£ä¹ˆä½ éœ€è¦ä½¿ç”¨åˆ°æ–°å¢çš„ã€å®ƒä»¬æ‰€å…±æœ‰çš„çˆ¶ç±»<strong>\BaseException</strong>ã€‚</p>
<p>å¦å¤–ï¼Œåœ¨<code>eval()</code>å‡½æ•°ä½¿ç”¨æ—¶çš„è§£æé”™è¯¯ä¼šæŠ›å‡ºä¸€ä¸ª<strong>\ParseException</strong>ï¼ŒåŒæ—¶ç±»å‹ä¸åŒ¹é…ä¼šæŠ›å‡ºä¸€ä¸ª<strong>\TypeException</strong>å¼‚å¸¸ã€‚</p>
<p>è¿™å„¿æœ‰ä¸ªä¾‹å­ï¼š</p>
<figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?php</span></span><br><span class="line"><span class="keyword">try</span> &#123;</span><br><span class="line">  <span class="title function_ invoke__">nonExistentFunction</span>();</span><br><span class="line">&#125; <span class="keyword">catch</span> (\EngineException <span class="variable">$e</span>) &#123;</span><br><span class="line">  <span class="title function_ invoke__">var_dump</span>(<span class="variable">$e</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">object</span>(EngineException)<span class="comment">#1 (7) &#123;</span></span><br><span class="line">  [<span class="string">&quot;message&quot;</span>:<span class="keyword">protected</span>] =&gt; <span class="keyword">string</span>(<span class="number">32</span>) <span class="string">&quot;Call to underfined function nonExistantFunction()&quot;</span></span><br><span class="line">  [<span class="string">&quot;string&quot;</span>:<span class="string">&quot;BaseException&quot;</span>:<span class="keyword">private</span>] =&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">0</span>) <span class="string">&quot;&quot;</span></span><br><span class="line">  [<span class="string">&quot;code&quot;</span>:<span class="keyword">protected</span>] =&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">1</span>)</span><br><span class="line">  [<span class="string">&quot;file&quot;</span>:<span class="keyword">protected</span>] =&gt;</span><br><span class="line">  <span class="keyword">string</span>(<span class="number">17</span>) <span class="string">&quot;engine-exceptions.php&quot;</span></span><br><span class="line">  [<span class="string">&quot;line&quot;</span>:<span class="keyword">protected</span>] =&gt;</span><br><span class="line">  <span class="keyword">int</span>(<span class="number">1</span>)</span><br><span class="line">  [<span class="string">&quot;trace&quot;</span>:<span class="string">&quot;BaseException&quot;</span>:<span class="keyword">private</span>] =&gt;</span><br><span class="line">  <span class="literal">NULL</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<blockquote>
<p>ç¿»è¯‘è‡ªï¼š<a target="_blank" rel="noopener" href="https://blog.engineyard.com/2015/what-to-expect-php-7-2">What to Expect When Youâ€™re Expecting: PHP 7, Part 2</a></p>
</blockquote>

      

      
        
    </div>
  </div>
  
    
<nav id="article-nav">
  
    <a href="/2016/02/27/PHP-session/" id="article-nav-newer" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Newer</strong>
      <div class="article-nav-title">
        
          PHP sessioné”ï¼šå¦‚ä½•é¿å…sessioné˜»å¡PHPè¯·æ±‚
        
      </div>
    </a>
  
  
    <a href="/2015/10/24/PHP7-1/" id="article-nav-older" class="article-nav-link-wrap">
      <strong class="article-nav-caption">Older</strong>
      <div class="article-nav-title">PHP 7 æœ‰äº›ä»€ä¹ˆå€¼å¾—æœŸå¾…ï¼Ÿï¼ˆä¸€ï¼‰</div>
    </a>
  
</nav>

  
</article>

<script type='text/javascript'>window.notIndexPage = true;</script>


<section id="comments">
  <div id="disqus_thread">
    <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'imzvz'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      })();
    </script>
    <noscript>
    Please enable JavaScript to view the <a target="_blank" rel="noopener" href="//disqus.com/?ref_noscript">comments powered by Disqus.</a>
    </noscript>
  </div>
</section>
</section>
        <aside id="sidebar">
  <nav class="menus">
  	<ul>
  		<li><a href="/"><i class="icon icon-home"></i></a></li>
  		
			<li><a href="/archives"><i class="icon icon-fenlei"></i></a></li>
  		
  		
			<li><a href="/tags"><i class="icon icon-tag"></i></a></li>
  		
  		
  	</ul>
  </nav>
  <a id="go-top" href="#"><i class="icon icon-up"></i></a>
</aside>
      </div>
      <footer id="footer">
  
	<div id="footer-info" class="inner">
	Linked with:&nbsp;&nbsp;&nbsp; 
	<a href="http://mritd.me" target="_blank">mritd.me</a>&nbsp;&nbsp;&nbsp;
	<a href="https://www.mghio.cn" target="_blank">mghio's blog</a>&nbsp;&nbsp;&nbsp;
	<a href="https://sillydong.com" target="_blank">å‚»ä¸œã®å­¦ä¹ ç¬”è®°</a>&nbsp;&nbsp;&nbsp;
	</div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/tags" class="mobile-nav-link">Tag</a>
  
</nav>
    
<script>
  var disqus_shortname = 'imzvz';
  
  var disqus_url = 'http://log.zvz.im/2016/01/17/PHP7-2/';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//cdn.bootcss.com/jquery/2.0.3/jquery.min.js"></script>

<script>
  if(window.notIndexPage)
  $(function(){
    $.get('//manage.zvz.im/api/posts/adv', function(res) {
      if(res.data.length) {
        $.each(res.data, function(idx, adv) {
          if(idx == 0) {
            if($('h2:first').length > 0) {
              $(adv).insertBefore('h2:first');
              return;
            }
          }
          $(adv).insertAfter('.article-inner');
        });
      }
    });
  });
</script>



  
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css">

  
<script src="/fancybox/jquery.fancybox.pack.js"></script>




<script src="/js/require.min.js"></script>


<script src="/js/script.js"></script>



<script type="text/x-mathjax-config">
  MathJax.Hub.Config({
    tex2jax: {
      inlineMath: [ ['$','$'], ["\\(","\\)"] ],
      processEscapes: true
    }
  });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Config({
      tex2jax: {
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
      }
    });
</script>

<script type="text/x-mathjax-config">
    MathJax.Hub.Queue(function() {
        var all = MathJax.Hub.getAllJax(), i;
        for(i=0; i < all.length; i += 1) {
            all[i].SourceElement().parentNode.className += ' has-jax';
        }
    });
</script>

<script type="text/javascript" src="//cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>



  </div><!-- hexo-inject:begin --><!-- Begin: Injected MathJax -->
<script type="text/x-mathjax-config">
  MathJax.Hub.Config({{ JSON.stringify(config) }});
</script>

<script type="text/x-mathjax-config">
  MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
      all[i].SourceElement().parentNode.className += ' has-jax';
    }
  });
</script>

<script type="text/javascript" src="{{ src }}">
</script>
<!-- End: Injected MathJax -->
<!-- hexo-inject:end -->
</body>
</html>